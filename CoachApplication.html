<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Coach Application - The Chess Gurus</title>
    <link href="https://fonts.googleapis.com/css2?family=Magik:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script src="https://www.google.com/recaptcha/api.js?render=6LeSdiIrAAAAAO6dyAsRfzQGHB7MdygEiB0iY-__"></script>
    <style>
        body { margin: 0; font-family: 'Trebuchet MS', Arial, sans-serif; background-color: #f6e3bb; color: #333; overflow-y: scroll; }
        nav { position: fixed; top: 0; width: 100%; background-color: #333; color: white; display: flex; justify-content: space-between; align-items: center; padding: 20px 20px; z-index: 1000; }
        nav a { color: white; text-decoration: none; padding: 8px 12px; font-weight: bold; }
        nav a:hover { background-color: #575757; border-radius: 5px; }
        .logo { display: flex; align-items: center; gap: 10px; color: white; font-weight: bold; font-size: 20px; }
        .logo img { width: 40px; height: 40px; border-radius: 50%; margin-right: 10px; }
        .logo span { font-size: 20px; font-weight: bold; }
        .nav-items { display: flex; gap: 20px; align-items: center; padding-right: 40px; }
        .nav-items a { color: white; text-decoration: none; font-weight: bold; padding: 8px; transition: background-color 0.3s ease; }
        .nav-items a:hover { background-color: #575757; border-radius: 5px; }
        .dropdown { position: relative; }
        .dropdown-content { display: none; position: absolute; top: 25px; background-color: #444; min-width: 160px; z-index: 1; border-radius: 5px; }
        .dropdown-content a { padding: 10px; text-decoration: none; display: block; color: white; }
        .dropdown-content a:hover { background-color: #575757; }
        .dropdown:hover .dropdown-content, .dropdown-content:hover { display: block; }
        .hamburger { display: none; flex-direction: column; cursor: pointer; }
        .hamburger div { width: 25px; height: 3px; background: white; margin: 4px 0; }
        @media (max-width: 768px) {
            .nav-items { display: none; flex-direction: column; background-color: #333; position: absolute; top: 60px; right: 0; width: 200px; padding: 10px 0; }
            .nav-items.active { display: flex; }
            .hamburger { display: flex; }
        }
        .contact-header { font-size: 36px; font-weight: bold; text-align: center; margin-top: 80px; padding-top: 20px; }
        .contact-paragraph { font-size: 18px; line-height: 1.6; text-align: center; margin: 20px auto; max-width: 700px; padding: 0 20px; }
        .contact-form-container { display: flex; flex-direction: column; align-items: center; gap: 40px; max-width: 800px; margin: 40px auto; padding: 0 20px; }
        form { display: flex; flex-direction: column; gap: 15px; width: 100%; }
        label { font-weight: bold; }
        input, textarea { padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; }
        button { background-color: #333; color: white; padding: 12px 20px; font-size: 16px; border: none; border-radius: 5px; cursor: pointer; transition: background-color 0.3s ease; }
        button:hover { background-color: #555; }
        h3 { font-size: 24px; color: #333; text-align: center; }
        .social-icons { display: flex; justify-content: center; gap: 40px; align-items: center; margin: 0; }
        .social-icons a img { width: 50px; height: 50px; }
        @media (max-width: 900px) {
            .contact-form-container { max-width: 98vw; padding: 0 2vw; }
        }
        @media (max-width: 600px) {
            nav { flex-direction: column; align-items: flex-start; padding: 10px 5px; }
            .logo { margin-bottom: 10px; }
            .nav-items { flex-direction: column; gap: 10px; width: 100%; overflow-x: auto; padding-right: 0; }
            .contact-header { font-size: 26px; margin-top: 70px; padding-top: 10px; }
            .contact-paragraph { font-size: 15px; padding: 0 5vw; }
            .contact-form-container { gap: 20px; margin: 20px auto; padding: 0 2vw; }
            form { gap: 10px; }
            input, textarea { font-size: 15px; padding: 8px; }
            button { font-size: 15px; padding: 10px 10px; }
            .social-icons a img { width: 36px; height: 36px; }
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">
            <img src="images/chessguru.webp" alt="GuruLogo">
            <span>The Chess Gurus</span>
        </div>
        <div class="hamburger" onclick="toggleMenu()">
            <div></div>
            <div></div>
            <div></div>
        </div>
        <div class="nav-items" id="nav-items">
            <a href="index.html">Home</a>
            <div class="dropdown">
                <a href="javascript:void(0);">About Us ▾</a>
                <div class="dropdown-content">
                    <a href="OurMission.html">Our Mission</a>
                    <a href="OurImpact.html">Our Impact</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="javascript:void(0);">Our Team ▾</a>
                <div class="dropdown-content">
                    <a href="OurFounders.html">Our Founders</a>
                    <a href="OurCoaches.html">Our Coaches</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="javascript:void(0);">Coaches ▾</a>
                <div class="dropdown-content">
                    <a href="./ChessHoursSubmission">Volunteer Hours Submission</a>
                    <a href="./CoachApplication">Coach Application</a>
                </div>
            </div>
            <a href="ContactUs.html">Join Now</a>
            <a href="Gallery.html">Gallery</a>
        </div>
    </nav>
    <div class="contact-header">Apply to Be a Chess Coach</div>
    <div class="contact-paragraph">
        Passionate about teaching chess and making a difference? Join our coaching team! We’re excited to connect with experienced players and motivated teachers who want to inspire the next generation.
    </div>
    <div class="contact-form-container">
        <form id="coach-application-form">
            <label for="fullname">Full Name (required):</label>
            <input type="text" id="fullname" name="fullname" required>

            <label for="email">Email Address (required):</label>
            <input type="email" id="email" name="email" required>

            <label for="phone">Phone Number (required):</label>
            <input type="text" id="phone" name="phone" required>

            <label for="uscf-fide-id">USCF/FIDE ID:</label>
            <input type="text" id="uscf-fide-id" name="uscf-fide-id">

            <label for="chess-exp">Chess Experience (briefly describe your background):</label>
            <textarea id="chess-exp" name="chess-exp" required></textarea>

            <label for="why-coach">Why do you want to coach with us?</label>
            <textarea id="why-coach" name="why-coach" required></textarea>

            <button type="submit">Submit Application</button>
        </form>
        <div>
            <h3>Social Media</h3>
            <div class="social-icons">
                <a href="https://www.instagram.com/azchessgurus" target="_blank"><img src="images/instalogo.png" alt="Instagram"></a>
                <a href="https://www.youtube.com/@AZChessGurus" target="_blank"><img src="images/ytlogo.png" alt="YouTube"></a>
                <a href="https://www.linkedin.com/in/az-chessgurus-b73740319/" target="_blank"><img src="images/linklogo.png" alt="LinkedIn"></a>
                <a href="mailto:chessgurusaz@gmail.com"><img src="images/maillogo.png" alt="Gmail"></a>
            </div>
        </div>
    </div>
    <script>
        function toggleMenu() {
            const nav = document.getElementById("nav-items");
            nav.classList.toggle("active");
        }
        document.addEventListener("DOMContentLoaded", function () {
            if (typeof emailjs === 'undefined') {
                alert("Error initializing application form. Please try again later.");
                return;
            }
            try {
                emailjs.init("6LXXHvwLH9-XLJ2Xg");
            } catch (error) {
                alert("Error initializing application form. Please try again later.");
                return;
            }
            const RECAPTCHA_SITE_KEY = '6LeSdiIrAAAAAO6dyAsRfzQGHB7MdygEiB0iY-__';
            const form = document.getElementById("coach-application-form");
            const submitButton = form.querySelector('button[type="submit"]');
            if (form && submitButton) {
                form.addEventListener("submit", function (e) {
                    e.preventDefault();
                    submitButton.disabled = true;
                    submitButton.textContent = 'Submitting...';
                    if (typeof grecaptcha === 'undefined' || typeof grecaptcha.execute === 'undefined') {
                        alert("reCAPTCHA error. Please refresh the page and try again.");
                        submitButton.disabled = false;
                        submitButton.textContent = 'Submit Application';
                        return;
                    }
                    grecaptcha.ready(function() {
                        grecaptcha.execute(RECAPTCHA_SITE_KEY, {action: 'submit_coach_application'})
                            .then(function(token) {
                                const data = {
                                  title: "New Coach Application",
                                  full_name: form.fullname.value,
                                  email: form.email.value,
                                  phone: form.phone.value,
                                  uscf: form['uscf-fide-id'].value,
                                  experience: form['chess-exp'].value,
                                  why: form['why-coach'].value,
                                  'g-recaptcha-response': token
                                };

                                // Replace with your EmailJS Service ID and Template ID
                                const SERVICE_ID = "service_gsn0pdo";
                                const TEMPLATE_ID = "template_lysjxub";
                                emailjs.send(SERVICE_ID, TEMPLATE_ID, data)
                                    .then(() => {
                                        alert("Thank you for your application! We’ll review your information and get back to you soon.");
                                        form.reset();
                                    }, (error) => {
                                        alert("Failed to send application. Please check your connection or try again later.\nError: " + JSON.stringify(error));
                                    })
                                    .finally(() => {
                                        submitButton.disabled = false;
                                        submitButton.textContent = 'Submit Application';
                                    });
                            })
                            .catch(function(error) {
                                alert("Could not verify you're human. Please refresh the page and try again.");
                                submitButton.disabled = false;
                                submitButton.textContent = 'Submit Application';
                            });
                    });
                });
            }
        });
    </script>
</body>
</html>
